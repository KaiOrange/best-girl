(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=(a(20),a(1)),l=a(2),s=a(4),m=a(3),u=a(5),h=a(12),g=a.n(h),d=(a(26),a(13)),f=a.n(d),p=a(14),b=(a(29),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={someKey:"someValue"},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({someKey:"otherValue"})}},{key:"render",value:function(){var e=this.props,t=e.alt,a=Object(p.a)(e,["alt"]);return r.a.createElement("img",Object.assign({className:"img-cord",alt:t},a))}}]),t}(r.a.Component)),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(a.baseURL).query({query:e.word,mode:1,start:e.currentPage,reqType:"ajax",reqFrom:"result",tn:0}).toString()},a.fetchData=function(){g()(a.getURL({word:a.word,pageNumber:a.pageNumber,currentPage:a.currentPage}),{},function(e,t){console.log(t);var n=t.items||[];0===n.length?a.currentPage=0:a.currentPage+=n.length,a.allImgDatas=a.allImgDatas.concat(n)})},a.handleDeleteImg=function(e){a.cacheImgDatas.push(e)},a.state={imgDatas:[]},a.baseURL="https://pic.sogou.com/pics",a.pageNumber=50,a.currentPage=0,a.word="\u7f8e\u5973",a.timer=null,a.allImgDatas=[],a.minContainerNumber=10,a.maxCacheNumber=20,a.cacheImgDatas=[],a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData(),this.startTimeTic()}},{key:"startTimeTic",value:function(){var e=this;this.timer=setInterval(function(){e.setState(function(t){if(e.allImgDatas.length<=e.minContainerNumber&&e.fetchData(),e.allImgDatas.length>0){var a=e.allImgDatas.splice(0,1)[0];a.left=Math.random()*(document.body.clientWidth-Number(a.thumb_width||a.width)),a.delayTime=3*Math.random(),a.durationTime=5*Math.random()+3,t.imgDatas.push(a)}return e.cacheImgDatas.length>e.maxCacheNumber&&(t.imgDatas=t.imgDatas.filter(function(t){return!~e.cacheImgDatas.indexOf(t)}),e.cacheImgDatas=[]),t})},1500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"dialogue-text hinge"},"\u4e00\u5927\u6ce2\u7f8e\u5973\u6b63\u5728\u9760\u8fd1")),this.state.imgDatas.map(function(t){var a=t.thumbUrl||t.pic_url;if(!a)return null;var n=t.thumb_height||t.height;return r.a.createElement(b,{key:a,src:a,alt:t.alt,title:t.title,style:{top:-n,left:t.left+"px",animationDelay:t.delayTime+"s",animationDuration:t.durationTime+"s"},onAnimationEnd:e.handleDeleteImg.bind(e,t)})})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.a7da77ca.chunk.js.map