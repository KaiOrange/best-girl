(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(39)},22:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(7),r=n.n(a),l=(n(22),n(1)),c=n(2),s=n(5),d=n(3),u=n(4),m=n(6),h=n(14),f=n.n(h),v=(n(28),n(15)),g=n.n(v),p=n(16),b=(n(31),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).state={someKey:"someValue"},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({someKey:"otherValue"})}},{key:"render",value:function(){var e=this.props,t=e.alt,n=e.className,o=Object(p.a)(e,["alt","className"]);return i.a.createElement("img",Object.assign({className:"img-cord "+n,alt:t},o))}}]),t}(i.a.Component));b.defaultProps={className:""};var w=b,y=(n(33),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).handleToggleColors=function(){e.setState({isShowColors:!e.state.isShowColors})},e.state={isShowColors:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.colors,n=e.handleSelectColor,o=this.state.isShowColors;return i.a.createElement("div",{className:"tool-button"},i.a.createElement("div",{className:"tool-button-colors",style:{width:o?1.5*t.length+"rem":"0",opacity:o?"1":"0"}},t.map(function(e){return i.a.createElement("div",{key:e.color,className:"tool-button-color",style:{background:e.color},title:e.title,onClick:function(){n(e)}})})),i.a.createElement("div",{className:"tool-button-icon",onClick:this.handleToggleColors}))}}]),t}(i.a.Component));y.defaultProps={colors:[],handleSelectColor:function(){}};var C=y,k=(n(35),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).handleNativeEvent=function(t){return t.preventDefault(),e.setState({isShow:!0}),e.savePrompt=t,!1},e.componentDidMount=function(){window.addEventListener("beforeinstallprompt",e.handleNativeEvent)},e.componentWillUnmount=function(){e.savePrompt=null,window.remoteEventListener("beforeinstallprompt",e.handleNativeEvent)},e.handleClick=function(){if(e.savePrompt){var t=e.props.handleClick;t&&t(),e.savePrompt.prompt()}},e.state={isShow:!1},e.savePrompt=null,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.isShow;return i.a.createElement("div",{className:"desktop-button",style:{display:e?"block":"none"}},i.a.createElement("div",{className:"desktop-button-icon",onClick:this.handleClick}))}}]),t}(i.a.Component));k.defaultProps={handleClick:function(){}};var O=k,j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.modalRoot=document.body,this.modalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.modalRoot.removeChild(this.el)}},{key:"render",value:function(){return r.a.createPortal(this.props.children,this.el)}}]),t}(i.a.Component),D=(n(37),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).warpBGBlur=function(e){var t=document.querySelector(".App-header");e?t.classList.add("blur"):t.classList.remove("blur")},e.state={},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.isShow;this.warpBGBlur(e)}},{key:"componentWillReceiveProps",value:function(e){e.isShow!==this.props.isShow&&this.warpBGBlur(e.isShow)}},{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.onClose,o=e.imgInfo;return o=o||{},i.a.createElement(j,null,i.a.createElement("div",{style:{display:t?"block":"none"}},i.a.createElement("div",{className:"modal-backdrop"},i.a.createElement("div",{className:"modal-img",onClick:function(e){e.preventDefault()}},i.a.createElement("img",{src:o.thumbUrl,alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",title:o.title}),i.a.createElement("div",{className:"modal-close-btn",onClick:n})))))}}]),t}(i.a.Component));D.defaultProps={isShow:!1,onClose:function(){},imgInfo:{}};var S=D,E=n(8),N=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).getURL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g()(n.baseURL).query({query:e.word,mode:1,start:e.currentPage,reqType:"ajax",reqFrom:"result",tn:0}).toString()},n.fetchData=function(){f()(n.getURL({word:n.word,pageNumber:n.pageNumber,currentPage:n.currentPage}),{},function(e,t){var o=t.items||[];0===o.length?n.currentPage=0:n.currentPage+=o.length,n.allImgDatas=n.allImgDatas.concat(o)})},n.setClientWidth=function(){n.clientWidth=document.body.clientWidth},n.setDocumentIsHidden=function(){n.setState({isDocumentHidden:document[n.hiddenNamesObj.hidden]})},n.initConsoleKeywords=function(){var e=Object(m.a)(Object(m.a)(n));console.log('\u795d\u8d3a\u4f60\u559c\u63d0\u5f69\u86cb~\n\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u8bbe\u7f6e\u641c\u7d22\u56fe\u7247\u7684\u5173\u952e\u5b57\uff0c\u53e3\u4ee4\u5982\u4e0b\uff1a\nkeywords="\u7f8e\u5973"'),Object.defineProperty(window,"keywords",{get:function(){return e.word},set:function(t){"string"!==typeof t?console.warn("\u522b\u5ffd\u60a0\u6211\uff0c\u5173\u952e\u5b57\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\uff01~~~~(>_<)~~~~ "):t?(console.info("\u5173\u952e\u5b57\u8bbe\u7f6e\u6210\u529f! O(\u2229_\u2229)O\u54c8\u54c8~"),e.resetKeywords.call(e,t)):console.warn("\u81f3\u5c11\u5199\u51e0\u4e2a\u5173\u952e\u5b57\u5427\uff01(\uff5e o \uff5e)~zZ")}})},n.handleDeleteImg=function(e){n.cacheImgDatas.push(e)},n.handleSelectColor=function(e){n.state.bgColor!==e.color&&n.setState(function(t){return t.bgColor=e.color,t},function(){n.resetKeywords(e.keywords),window.localStorage.setItem("bgColor",e.color)})},n.handleImgClick=function(e){n.setState({isShow:!0,imgInfo:e})},n.handleModalClose=function(){n.setState({isShow:!1})};var o=window.localStorage.getItem("bgColor");if(n.state={imgDatas:[],bgColor:o,isShow:!1,imgInfo:null,isDocumentHidden:!1},n.word="\u7f8e\u5973",o){var i=E.findIndex(function(e){return e.color===o});i>-1&&(n.word=E[i].keywords||n.word)}return n.baseURL="https://pic.sogou.com/pics",n.pageNumber=50,n.currentPage=0,n.timer=null,n.allImgDatas=[],n.minContainerNumber=10,n.maxCacheNumber=20,n.cacheImgDatas=[],n.clientWidth=980,n.hiddenNamesObj=n.getHiddenName(),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener(this.hiddenNamesObj.visibilityChange,this.setDocumentIsHidden),this.setClientWidth(),this.fetchData(),this.startTimeTic(),window.addEventListener("resize",this.setClientWidth),this.initConsoleKeywords()}},{key:"componentWillUnmount",value:function(){document.removeEventListener(this.hiddenNamesObj.visibilityChange,this.setDocumentIsHidden),clearInterval(this.timer),window.removeEventListener("resize",this.setClientWidth)}},{key:"resetKeywords",value:function(e){this.allImgDatas=[],this.currentPage=0,this.word=e}},{key:"getHiddenName",value:function(){var e,t;return"undefined"!==typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}}},{key:"startTimeTic",value:function(){var e=this;this.timer=setInterval(function(){e.state.isDocumentHidden||e.setState(function(t){if(e.allImgDatas.length<=e.minContainerNumber&&e.fetchData(),e.allImgDatas.length>0){var n=e.allImgDatas.splice(0,1)[0],o=Math.min(Number(n.thumb_width||n.width),35*e.clientWidth/100);n.left=Math.random()*(e.clientWidth-o),n.delayTime=1*Math.random(),n.durationTime=5*Math.random()+3,t.imgDatas.push(n)}return e.cacheImgDatas.length>e.maxCacheNumber&&(t.imgDatas=t.imgDatas.filter(function(t){return!~e.cacheImgDatas.indexOf(t)}),e.cacheImgDatas=[]),t})},1e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.bgColor,o=t.isShow,a=t.imgInfo,r=t.isDocumentHidden?"paused":"running";return i.a.createElement("div",{className:"App",style:{backgroundColor:n}},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",{className:"center"},i.a.createElement("div",{className:"dialogue-text hinge",style:{animationDelay:".8s"}},"\u4e00\u5927\u6ce2\u7f8e\u5973\u6b63\u5728\u9760\u8fd1")),i.a.createElement(C,{handleSelectColor:this.handleSelectColor,colors:E}),i.a.createElement(O,null),this.state.imgDatas.map(function(t){var n=t.thumbUrl||t.pic_url;if(!n)return null;var o=t.thumb_height||t.height;return i.a.createElement(w,{key:n,src:n,alt:t.alt,title:t.title,style:{top:-o,left:t.left+"px",animationDelay:t.delayTime+"s",animationDuration:t.durationTime+"s",animationPlayState:r},onAnimationEnd:e.handleDeleteImg.bind(e,t),onClick:e.handleImgClick.bind(e,t)})})),i.a.createElement(S,{isShow:o,imgInfo:a,onClose:this.handleModalClose}))}}]),t}(o.Component),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(N,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");I?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):P(t,e)})}}()},8:function(e){e.exports=[{color:"#282c34",title:"\u9ed1\u591c",keywords:"\u7f8e\u5973 \u5973\u795e"},{color:"#aaa",title:"\u767d\u663c",keywords:"\u7f8e\u5973 \u6587\u827a"},{color:"#c1e6f7",title:"\u6de1\u84dd\u4e4b\u5149",keywords:"\u7f8e\u5973 \u98ce\u60c5"},{color:"#ffc9c9",title:"\u7c89\u7ea2\u8bf1\u60d1",keywords:"\u7f8e\u5973 \u53ef\u7231"},{color:"#f7a374",title:"\u6d3b\u529b\u6a59\u8272",keywords:"\u7f8e\u5973 \u751c\u7f8e"},{color:"antiquewhite",title:"\u51b7\u8273\u9ea6\u8272",keywords:"\u7f8e\u5973 \u6027\u611f"},{color:"#C7EDCC",title:"\u6e05\u7eaf\u4e4b\u7eff",keywords:"\u7f8e\u5973 \u6e05\u7eaf"}]}},[[17,2,1]]]);
//# sourceMappingURL=main.be7d8656.chunk.js.map